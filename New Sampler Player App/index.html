<!-- index.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Generative Audio Sample Player</title>
  <style>
    /* Basic styling for buttons and sliders */
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      padding: 50px;
      background-color: #f0f0f0;
    }

    h1 {
      margin-bottom: 20px;
    }

    .category {
      margin-bottom: 30px;
    }

    button {
      margin: 5px;
      padding: 10px 20px;
      font-size: 16px;
      cursor: pointer;
      border: none;
      border-radius: 5px;
      transition: background-color 0.3s;
    }

    button:hover {
      opacity: 0.9;
    }

    /* Default button styles */
    .btn-default {
      background-color: #4CAF50;
      color: white;
    }

    /* Loop button styles */
    .btn-loop {
      background-color: #FF9800;
      color: white;
    }

    /* Active loop button styles */
    .btn-loop.active {
      background-color: #F57C00;
    }

    /* Styling for BPM controls */
    .controls {
      margin-top: 40px;
    }

    .controls label {
      font-size: 18px;
      margin-right: 10px;
    }

    .controls input {
      width: 60px;
      padding: 5px;
      font-size: 16px;
      text-align: center;
      border: 1px solid #ccc;
      border-radius: 4px;
      margin-right: 10px;
    }

    .controls button {
      background-color: #008CBA;
      color: white;
    }

    .controls button:hover {
      background-color: #007B9E;
    }

    /* Volume slider styling */
    .volume-control {
      margin-top: 20px;
    }

    .volume-control label {
      font-size: 18px;
      margin-right: 10px;
    }

    .volume-control input[type="range"] {
      width: 200px;
    }

    /* Beat generator settings */
    .settings {
      margin-top: 40px;
      text-align: left;
      display: inline-block;
    }

    .settings h2 {
      text-align: center;
    }

    .settings label {
      display: block;
      margin: 10px 0 5px;
    }

    .settings input[type="checkbox"] {
      margin-right: 5px;
    }

    .settings input[type="number"] {
      width: 60px;
      padding: 5px;
      font-size: 14px;
      text-align: center;
      border: 1px solid #ccc;
      border-radius: 4px;
    }

    .settings .instrument-settings {
      margin-bottom: 20px;
    }

    .settings button {
      background-color: #673AB7;
      color: white;
    }

    .settings button:hover {
      background-color: #5E35B1;
    }
  </style>
</head>
<body>
  <h1>Generative Audio Sample Player</h1>
  
  <div class="category">
    <h2>Drums</h2>
    <button id="playKick" class="btn-default">Play Kick Drum</button>
    <button id="playSnare" class="btn-default">Play Snare Drum</button>
    <button id="playHiHat" class="btn-default">Play Hi-Hat</button>
    <!-- Updated Generate Beat button with loop class -->
    <button id="generateBeat" class="btn-loop">Generate Beat</button>
  </div>
  
  <div class="category">
    <h2>Tonal Hits</h2>
    <button id="playRimshot" class="btn-default">Play Rimshot</button>
  </div>
  
  <div class="category">
    <h2>Loops</h2>
    <button id="playRhythmLoop" class="btn-loop">Play Rhythm Loop</button>
    <button id="playMelodyLoop" class="btn-loop">Play Melody Loop</button>
  </div>

  <!-- BPM Control -->
  <div class="controls">
    <h2>Tempo Control</h2>
    <label for="bpmInput">Set BPM:</label>
    <input type="number" id="bpmInput" value="137" min="60" max="200" step="1">
    <button id="setBpm">Set BPM</button>
  </div>

  <!-- Volume Control -->
  <div class="volume-control">
    <label for="volumeSlider">Master Volume:</label>
    <input type="range" id="volumeSlider" min="0" max="1" step="0.01" value="1">
  </div>

  <!-- Beat Generator Settings -->
  <div class="settings">
    <h2>Beat Generator Settings</h2>

  <!-- Instrument Settings in index.html -->
<div class="instrument-settings" id="instrumentSettings">
  <h3>Instruments</h3>
  <!-- Dynamic instrument settings will be injected here -->
</div>
    <div class="randomness-settings">
      <h3>Randomness</h3>
      <label><input type="checkbox" id="patternSelection" checked> Random Pattern Selection</label>
      <label><input type="checkbox" id="hitVariation" checked> Random Hit Variation</label>
      <label>Swing Amount: <input type="number" id="swingAmount" value="0" min="0" max="0.5" step="0.05"></label>
    </div>

    <button id="applySettings">Apply Settings</button>
  </div>
  
  <script type="module" src="uiGenerator.js"></script>
  <script type="module" src="main.js"></script></body>
</html>

<!-- Dev notes for index.html:
 ### Notes for `index.html`

**Overview**:  
The `index.html` file is the main user interface (UI) for a generative audio sample player. It provides controls for playing various audio samples (e.g., kick drum, snare drum, rhythm loops), setting the tempo (BPM), adjusting the master volume, and modifying beat generator settings like instrument probabilities and randomness. The UI is designed to be interactive, allowing the user to control the playback of audio samples and configure beat generation through checkboxes, number inputs, and sliders.

### Key Features:
- **Audio Controls**:
  - **Play Buttons**: Buttons to trigger the playback of different drum sounds (`Kick`, `Snare`, `Hi-Hat`, `Rimshot`) and loops (`Rhythm Loop`, `Melody Loop`).
  - **Generate Beat Button**: A button to start the beat generator, triggering the automatic generation of beats based on user settings.
  
- **Tempo Control**: 
  - A **BPM Input** field for the user to set the tempo (beats per minute) of the generated beat. A button allows the user to apply the new BPM to the system.

- **Volume Control**:
  - A **master volume slider** that adjusts the overall volume of the audio playback.

- **Beat Generator Settings**:
  - A **settings panel** for controlling the behavior of the beat generator, including:
    - **Instrument Settings**: Dynamically generated based on the available instruments, allowing the user to enable/disable instruments and adjust their probability of being played.
    - **Randomness Settings**: Options to toggle random pattern selection and hit variation.
    - **Swing Amount**: A numeric input to set the amount of swing applied to the beat.

- **Dynamic UI**: The `instrumentSettings` section is dynamically populated with checkboxes and inputs for each instrument based on the available instruments from the summary data.

### Structure:
1. **Categories and Buttons**:
   - **Drums**: Includes buttons for triggering individual drum sounds (Kick, Snare, Hi-Hat).
   - **Tonal Hits**: Includes a button for the Rimshot sound.
   - **Loops**: Includes buttons for triggering rhythm and melody loops.
   
2. **Controls for Tempo and Volume**:
   - **Tempo Control**: Users can set the BPM via an input field and a button to apply it.
   - **Volume Control**: A slider allows users to adjust the master volume of the audio playback.

3. **Beat Generator Settings**:
   - This section is dynamically populated with the instruments and their settings, including checkboxes for enabling or disabling instruments and sliders or inputs for controlling the probability of each instrument being played.
   - Users can also toggle randomness features, like random pattern selection and hit variation, as well as set the amount of swing.

4. **Script Imports**:
   - The HTML file imports `uiGenerator.js` and `main.js` to manage the functionality of the user interface and the core audio generation.

### Key Elements:
- **CSS Styling**:
  - The styles provide a clean and responsive layout for the audio controls and settings.
  - Buttons are styled with transitions and hover effects to enhance the user experience.
  - Inputs like sliders and number fields are styled to be intuitive and easy to interact with.

- **Instrument Settings Injection**:
  - The `uiGenerator.js` script dynamically injects instrument settings into the `instrumentSettings` div, creating checkboxes and input fields for each instrument.
  - This allows for flexibility, where the available instruments can change based on the sample set.

### Usage:
- **Interactive Controls**: Users can click buttons to trigger sound effects and loops, adjust the tempo, and configure the beat generation settings.
- **Beat Generation**: When the "Generate Beat" button is clicked, the beat generator starts using the selected settings, and the user can listen to the generated rhythm.
- **Volume and BPM Adjustment**: Users can fine-tune the playback volume and tempo, with real-time updates to the audio playback.

### Developer Notes:
- **Dynamic Content**: The `instrumentSettings` section is populated dynamically by the `uiGenerator.js` module, which uses the `summaryData` from the `summary.js` module to generate the instrument controls.
- **Modular Structure**: The use of `script` tags for importing `uiGenerator.js` and `main.js` ensures the HTML remains clean and that functionality is modular.
- **CSS Customization**: Developers can easily customize the look of the UI by adjusting the CSS rules, such as button colors, input styles, or layout.

**Integrating with Backend**:
- The UI is structured to work with the `uiGenerator.js` and `main.js` modules, ensuring that the HTML and JavaScript are tightly integrated for a smooth user experience. This modularity allows for easy expansion or modification of the controls and functionality.

---

### Key Considerations for Developers:
- **Ensure Proper Synchronization**: The tempo (BPM) and volume sliders must be properly linked to the audio playback system (e.g., the Web Audio API) to ensure that changes are reflected in real-time.
- **Dynamic Instrument Settings**: The `uiGenerator.js` script dynamically generates settings based on the summary data. Developers should ensure that the `summary.js` module is updated with all the necessary sample data for this to work.
- **Expandability**: The HTML is set up to accommodate additional controls, and developers can add more UI elements for more complex functionality (e.g., adding more audio effects, extra settings for specific instruments).
 -->